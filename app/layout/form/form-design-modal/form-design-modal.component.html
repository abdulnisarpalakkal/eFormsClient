
  <!-- {{virtualTableFieldsList|json}} -->
  <!-- {{formDesignDto|json}} -->
                <app-form-design-sidenav [designform]="form" [virtualTableFieldsList]="virtualTableFieldsList" 
                (autoGenerateComponentsEmit)="autoGenerateComponents()" (createNewComponentEmit)="createNewComponent()" (createNewGridEmit)="createNewGrid()"
                (updateEmit)="onUpdatedDesign()" (previewEmit)="openPreview()" ></app-form-design-sidenav>
               
<div  class="fluid  mt-5">
 <section *ngIf="form" class="main-container" >
                
<div class="row justify-content-between">
    <div class="col-sm-8  " >
        <div class="container" >
        

            <section  data-spy="scroll">
            <div class="mt-2 ml-5 mr-5">
                
                  <div *ngIf="formDesignDto!=null" class="example-list" cdkDropList (cdkDropListDropped)="drop($event)">
                      <div class="example-box"  *ngFor="let formDesign of formDesignDto.formDesigns" cdkDrag >
                                  <div class="example-handle" cdkDragHandle>
                                          <svg width="24px" fill="currentColor" viewBox="0 0 24 24">
                                                  <path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path>
                                                  <path d="M0 0h24v24H0z" fill="none"></path>
                                          </svg>
                                  </div>
                          <app-form-component-dir [formDesign]="formDesign" (deleteComponentEmit)="deleteComponent($event)" 
                  (editComponentEmit)="editComponent($event)"></app-form-component-dir>
                      </div>
                  </div>
        </div>
      </section>
</div>


      </div>
      <div class="col-sm-4">

          <mdb-card >
              <div class="row mb-3">
     
                     <div class="col-md-12">
         
         
                       <mdb-tabset #staticTabs [buttonClass]="'nav md-pills pills-dark'" [justified]="true" [contentClass]="'card'">
                         <mdb-tab heading="Rules">
                           <div class="row">
                             <div class="col-12">
                               <br>
                               <app-form-rules-dir  [formRules]="formDesignDto.formRules" [formRuleTypes]="formDesignDto.formRuleTypes"></app-form-rules-dir>
     
                             </div>
                           </div>
                         </mdb-tab>
                         <mdb-tab heading="Properties">
                           <div class="row">
                             <div class="col-12">
                               <br>
                              
                               <app-component-properties-dir *ngIf="formDesign && formDesign.componentType!=formComponentEnumGrid"  [virtualTableFieldsList]="virtualTableFieldsList" [formDesign]="formDesign" [refTableMap]="refTableMap" [formRules]="formDesignDto.formRules" ></app-component-properties-dir>
                               <app-grid-properties *ngIf="formDesign && formDesign.componentType==formComponentEnumGrid"  [virtualTableFieldsList]="virtualTableFieldsList" [formDesign]="formDesign" [virtualTablesReferringMe]="virtualTablesReferringMe" [formRules]="formDesignDto.formRules" ></app-grid-properties>
     
                             </div>
                           </div>
                         </mdb-tab>
                     </mdb-tabset>
     
             </div>
     
     
           </div>
           </mdb-card>


        </div>
  </div>
  </section>
  
            
        <div *ngIf="!form">
            <mdb-spinner spinnerColor="blue"></mdb-spinner>
        </div>

</div>
<ng-template #previewContent let-c="close" let-d="dismiss">
    <div class="modal-content">
        <div class="modal-header light-blue darken-3 white-text">
                <h4 class="title">
                    <mdb-icon fas icon="pencil-alt"></mdb-icon> {{form.formName}}
                </h4>
                <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close" (click)="d('Close click')">
                <span aria-hidden="true">Ã—</span>
                </button>
        </div>
        
        <div class="modal-body mt-2 mb-0">
             
                <app-form-preview [form]="form" [formDesignDto]="formDesignDto"  >   </app-form-preview>
        </div>
    </div>
</ng-template>

